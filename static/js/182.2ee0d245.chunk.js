"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[182],{90182:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var n=t(72791),a=t(47022),s=t(2469),i=t(89743),o=t(2677),c=t(43360),d=t(43504),l=t(16871),u=t(16030),p=t(70885),f=t(15861),m=t(87757),v=t.n(m),h=t(74569),x=t.n(h),Z=t(7385),j=function(e){return function(){var r=(0,f.Z)(v().mark((function r(t,n){var a,s,i,o,c;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t({type:Z.Sj}),a=n(),s=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,x().get("/api/pre_order/list-order-items/order_id=".concat(e,"/"),i);case 6:o=r.sent,c=o.data,t({type:Z.W7,payload:c}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),t({type:Z.ZM,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},y=t(99410),b=t(74292),N=t(24849),_=t(80184);var g=function(e){var r=e.menu_item,t=e.order_id,a=(0,n.useState)(0),d=(0,p.Z)(a,2),l=d[0],m=d[1],h=(0,u.I0)(),g=(0,u.v9)((function(e){return e.addPreOrderItemReducer})),k=g.loading,w=(g.error,g.success);return(0,_.jsxs)(i.Z,{className:"mb-4",children:[(0,_.jsxs)(o.Z,{md:8,children:[(0,_.jsx)("h5",{children:r.menu_item_name}),(0,_.jsx)("p",{className:"small",children:r.menu_item_description})]}),(0,_.jsx)(o.Z,{md:1,className:"d-flex justify-content-end",children:r.menu_item_price}),(0,_.jsx)(o.Z,{md:3,className:"d-flex justify-content-end h-50",children:(0,_.jsxs)(y.Z,{children:[(0,_.jsx)(b.Z,{className:"text-center",size:"smaller-input",value:l,onChange:function(e){return m(e.target.value)}}),0!==Number(l)&&!k&&!w&&(0,_.jsx)(c.Z,{variant:"outline-secondary",id:"button-addon",onClick:function(){h(function(e,r,t){return function(){var n=(0,f.Z)(v().mark((function n(a,s){var i,o,c,d,l;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:Z.OA}),i=s(),o=i.userLoginReducer.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},n.next=6,x().post("/api/pre_order/add-item-to-order/order_id=".concat(e,"/item_id=").concat(r,"/"),{qty:t},c);case 6:d=n.sent,l=d.data,a({type:Z.D$,payload:l}),a(j(e)),a({type:Z.DW}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),a({type:Z.X2,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,r){return n.apply(this,arguments)}}()}(t,r.id,l))},children:"Add Order"}),0!==l&&k&&!w&&(0,_.jsx)(N.Z,{animation:"border"}),0!==l&&!k&&w&&(0,_.jsx)(s.Z,{alert:"success",children:"\u2713"})]})})]})};var k=function(e){var r=e.restaurant_id,t=(0,u.I0)(),a=(0,l.UO)(),s=(0,n.useState)([]),i=(0,p.Z)(s,2),o=(i[0],i[1],(0,u.v9)((function(e){return e.retrieveMenuReducer}))),c=(o.loading,o.error,o.menu_data);return(0,n.useEffect)((function(){t(function(e){return function(){var r=(0,f.Z)(v().mark((function r(t,n){var a,s,i,o,c;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t({type:Z.LL}),a=n(),s=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,x().get("/api/pre_order/retrieve-menu-items/restaurant_id=".concat(e,"/"),i);case 6:o=r.sent,c=o.data,t({type:Z.Dd,payload:c}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),t({type:Z.hY,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(r))}),[r]),(0,_.jsxs)("div",{className:"shadow shadow-100 rounded p-4 mb-4 mt-2",children:[(0,_.jsx)("h3",{className:"mb-4",children:"Restaurant Menu"}),c&&c.map((function(e){return(0,_.jsx)(g,{menu_item:e,order_id:a.id})}))]})},w=t(62591);var C=function(e){var r=e.item,t=e.order_id,n=(0,u.I0)(),a=function(e){n(function(e,r){return function(){var t=(0,f.Z)(v().mark((function t(n,a){var s,i,o;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Z.Dh}),s=a(),i=s.userLoginReducer.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,x().delete("/api/pre_order/delete-order-items/item_order_key=".concat(e,"/"),o);case 6:n({type:Z.oV}),n(j(r)),window.setTimeout((function(){n({type:Z.Of})}),4e3),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:Z.D_,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e,t))};return(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:r.menu_item_name}),(0,_.jsx)("td",{children:r.order_item_qty}),(0,_.jsx)("td",{children:r.menu_item_price}),(0,_.jsx)("td",{children:(0,_.jsx)(c.Z,{className:"transparent",onClick:function(){return a(r.item_order_key)},children:(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,_.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,_.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})})]})};var z=function(e){var r=e.pre_order_details,t=r.order_items;return(0,_.jsxs)(w.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"Item"}),(0,_.jsx)("th",{children:"Quantity"}),(0,_.jsx)("th",{children:"Unit Price"}),(0,_.jsx)("th",{children:"Action"})]})}),(0,_.jsx)("tbody",{children:t&&t.map((function(e){return(0,_.jsx)(C,{item:e,order_id:r.id})}))})]})};var I=function(){var e=(0,l.UO)(),r=(0,u.I0)(),t=(0,u.v9)((function(e){return e.retrievePreOrderReducer})),p=t.loading,f=t.error,m=t.pre_order_details,v=(0,u.v9)((function(e){return e.removePreOrderItemReducer})),h=v.success,x=v.error;return(0,n.useEffect)((function(){r(j(e.id))}),[]),(0,_.jsx)(a.Z,{className:"py-5 my-5",children:p?(0,_.jsxs)("h1",{className:"text-center",children:["Loading Order Details for Order #:"," ",e.id]}):f?(0,_.jsxs)("h1",{className:"text-center",children:["Error Loading Order Details for Order #:"," ",e.id]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h1",{className:"text-left",children:(0,_.jsxs)("strong",{children:["Pre Order #ID:"," ",e.id]})}),h&&(0,_.jsx)(s.Z,{variant:"success",children:"Item Deleted Successfully!"}),x&&(0,_.jsx)(s.Z,{variant:"danger",children:"Item Deleted Not Successfully!"}),m&&(0,_.jsx)(z,{pre_order_details:m}),(0,_.jsxs)(i.Z,{children:[(0,_.jsx)(o.Z,{md:10,children:m&&(0,_.jsx)(k,{restaurant_id:m.restaurant_id})}),(0,_.jsx)(o.Z,{md:2,className:"d-flex justify-content-end",children:(0,_.jsx)("div",{children:(0,_.jsx)(d.Link,{to:"/payment/".concat(e.id),children:(0,_.jsxs)(c.Z,{className:"btn btn-primary mt-2",children:["Make Payment"," "]})})})})]})]})})};var O=function(){return(0,_.jsx)(I,{})}},2469:function(e,r,t){var n=t(1413),a=t(45987),s=t(81694),i=t.n(s),o=t(72791),c=t(80239),d=t(39007),l=t(16445),u=t(10162),p=t(72709),f=t(80473),m=t(27472),v=t(66543),h=t(80184),x=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Z=(0,m.Z)("h4");Z.displayName="DivStyledAsH4";var j=(0,v.Z)("alert-heading",{Component:Z}),y=(0,v.Z)("alert-link",{Component:l.Z}),b={variant:"primary",show:!0,transition:p.Z,closeLabel:"Close alert"},N=o.forwardRef((function(e,r){var t=(0,c.Ch)(e,{show:"onClose"}),s=t.bsPrefix,o=t.show,l=t.closeLabel,m=t.closeVariant,v=t.className,Z=t.children,j=t.variant,y=t.onClose,b=t.dismissible,N=t.transition,_=(0,a.Z)(t,x),g=(0,u.vE)(s,"alert"),k=(0,d.Z)((function(e){y&&y(!1,e)})),w=!0===N?p.Z:N,C=(0,h.jsxs)("div",(0,n.Z)((0,n.Z)({role:"alert"},w?void 0:_),{},{ref:r,className:i()(v,g,j&&"".concat(g,"-").concat(j),b&&"".concat(g,"-dismissible")),children:[b&&(0,h.jsx)(f.Z,{onClick:k,"aria-label":l,variant:m}),Z]}));return w?(0,h.jsx)(w,(0,n.Z)((0,n.Z)({unmountOnExit:!0},_),{},{ref:void 0,in:o,children:C})):o?C:null}));N.displayName="Alert",N.defaultProps=b,r.Z=Object.assign(N,{Link:y,Heading:j})},70783:function(e,r,t){var n=t(1413),a=t(45987),s=t(81694),i=t.n(s),o=t(72791),c=t(52007),d=t.n(c),l=t(80184),u=["as","className","type","tooltip"],p={type:d().string,tooltip:d().bool,as:d().elementType},f=o.forwardRef((function(e,r){var t=e.as,s=void 0===t?"div":t,o=e.className,c=e.type,d=void 0===c?"valid":c,p=e.tooltip,f=void 0!==p&&p,m=(0,a.Z)(e,u);return(0,l.jsx)(s,(0,n.Z)((0,n.Z)({},m),{},{ref:r,className:i()(o,"".concat(d,"-").concat(f?"tooltip":"feedback"))}))}));f.displayName="Feedback",f.propTypes=p,r.Z=f},96882:function(e,r,t){var n=t(1413),a=t(45987),s=t(81694),i=t.n(s),o=t(72791),c=t(84934),d=t(10162),l=t(80184),u=["id","bsPrefix","className","type","isValid","isInvalid","as"],p=o.forwardRef((function(e,r){var t=e.id,s=e.bsPrefix,p=e.className,f=e.type,m=void 0===f?"checkbox":f,v=e.isValid,h=void 0!==v&&v,x=e.isInvalid,Z=void 0!==x&&x,j=e.as,y=void 0===j?"input":j,b=(0,a.Z)(e,u),N=(0,o.useContext)(c.Z).controlId;return s=(0,d.vE)(s,"form-check-input"),(0,l.jsx)(y,(0,n.Z)((0,n.Z)({},b),{},{ref:r,type:m,id:t||N,className:i()(p,s,h&&"is-valid",Z&&"is-invalid")}))}));p.displayName="FormCheckInput",r.Z=p},84934:function(e,r,t){var n=t(72791).createContext({});r.Z=n},74292:function(e,r,t){var n=t(1413),a=t(4942),s=t(45987),i=t(81694),o=t.n(i),c=t(72791),d=(t(42391),t(70783)),l=t(84934),u=t(10162),p=t(80184),f=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],m=c.forwardRef((function(e,r){var t,i,d=e.bsPrefix,m=e.type,v=e.size,h=e.htmlSize,x=e.id,Z=e.className,j=e.isValid,y=void 0!==j&&j,b=e.isInvalid,N=void 0!==b&&b,_=e.plaintext,g=e.readOnly,k=e.as,w=void 0===k?"input":k,C=(0,s.Z)(e,f),z=(0,c.useContext)(l.Z).controlId;(d=(0,u.vE)(d,"form-control"),_)?t=(0,a.Z)({},"".concat(d,"-plaintext"),!0):(i={},(0,a.Z)(i,d,!0),(0,a.Z)(i,"".concat(d,"-").concat(v),v),t=i);return(0,p.jsx)(w,(0,n.Z)((0,n.Z)({},C),{},{type:m,size:h,ref:r,readOnly:g,id:x||z,className:o()(Z,t,y&&"is-valid",N&&"is-invalid","color"===m&&"".concat(d,"-color"))}))}));m.displayName="FormControl",r.Z=Object.assign(m,{Feedback:d.Z})},99410:function(e,r,t){var n=t(45987),a=t(1413),s=t(81694),i=t.n(s),o=t(72791),c=t(66543),d=t(10162),l=t(96882),u=t(91991),p=t(80184),f=["bsPrefix","size","hasValidation","className","as"],m=(0,c.Z)("input-group-text",{Component:"span"}),v=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.size,c=e.hasValidation,l=e.className,m=e.as,v=void 0===m?"div":m,h=(0,n.Z)(e,f);t=(0,d.vE)(t,"input-group");var x=(0,o.useMemo)((function(){return{}}),[]);return(0,p.jsx)(u.Z.Provider,{value:x,children:(0,p.jsx)(v,(0,a.Z)((0,a.Z)({ref:r},h),{},{className:i()(l,t,s&&"".concat(t,"-").concat(s),c&&"has-validation")}))})}));v.displayName="InputGroup",r.Z=Object.assign(v,{Text:m,Radio:function(e){return(0,p.jsx)(m,{children:(0,p.jsx)(l.Z,(0,a.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,p.jsx)(m,{children:(0,p.jsx)(l.Z,(0,a.Z)({type:"checkbox"},e))})}})},24849:function(e,r,t){var n=t(1413),a=t(45987),s=t(81694),i=t.n(s),o=t(72791),c=t(10162),d=t(80184),l=["bsPrefix","variant","animation","size","as","className"],u=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.variant,o=e.animation,u=e.size,p=e.as,f=void 0===p?"div":p,m=e.className,v=(0,a.Z)(e,l);t=(0,c.vE)(t,"spinner");var h="".concat(t,"-").concat(o);return(0,d.jsx)(f,(0,n.Z)((0,n.Z)({ref:r},v),{},{className:i()(m,h,u&&"".concat(h,"-").concat(u),s&&"text-".concat(s))}))}));u.displayName="Spinner",r.Z=u},62591:function(e,r,t){var n=t(1413),a=t(45987),s=t(81694),i=t.n(s),o=t(72791),c=t(10162),d=t(80184),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=o.forwardRef((function(e,r){var t=e.bsPrefix,s=e.className,o=e.striped,u=e.bordered,p=e.borderless,f=e.hover,m=e.size,v=e.variant,h=e.responsive,x=(0,a.Z)(e,l),Z=(0,c.vE)(t,"table"),j=i()(s,Z,v&&"".concat(Z,"-").concat(v),m&&"".concat(Z,"-").concat(m),o&&"".concat(Z,"-striped"),u&&"".concat(Z,"-bordered"),p&&"".concat(Z,"-borderless"),f&&"".concat(Z,"-hover")),y=(0,d.jsx)("table",(0,n.Z)((0,n.Z)({},x),{},{className:j,ref:r}));if(h){var b="".concat(Z,"-responsive");return"string"===typeof h&&(b="".concat(b,"-").concat(h)),(0,d.jsx)("div",{className:b,children:y})}return y}));r.Z=u}}]);
//# sourceMappingURL=182.2ee0d245.chunk.js.map