"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[182],{90182:function(e,t,r){r.r(t),r.d(t,{default:function(){return O}});var n=r(72791),a=r(47022),s=r(2469),i=r(89743),o=r(2677),c=r(43360),d=r(43504),l=r(16871),u=r(16030),p=r(70885),m=r(15861),f=r(87757),v=r.n(f),h=r(74569),x=r.n(h),Z=r(7385),j=function(e){return function(){var t=(0,m.Z)(v().mark((function t(r,n){var a,s,i,o,c;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Z.Sj}),a=n(),s=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,x().get("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/pre_order/list-order-items/order_id=".concat(e,"/"),i);case 6:o=t.sent,c=o.data,r({type:Z.W7,payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Z.ZM,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},y=r(99410),b=r(74292),N=r(24849),_=r(80184);var w=function(e){var t=e.menu_item,r=e.order_id,a=(0,n.useState)(0),d=(0,p.Z)(a,2),l=d[0],f=d[1],h=(0,u.I0)(),w=(0,u.v9)((function(e){return e.addPreOrderItemReducer})),g=w.loading,k=(w.error,w.success);return(0,_.jsxs)(i.Z,{className:"mb-4",children:[(0,_.jsxs)(o.Z,{md:8,children:[(0,_.jsx)("h5",{children:t.menu_item_name}),(0,_.jsx)("p",{className:"small",children:t.menu_item_description})]}),(0,_.jsx)(o.Z,{md:1,className:"d-flex justify-content-end",children:t.menu_item_price}),(0,_.jsx)(o.Z,{md:3,className:"d-flex justify-content-end h-50",children:(0,_.jsxs)(y.Z,{children:[(0,_.jsx)(b.Z,{className:"text-center",size:"smaller-input",value:l,onChange:function(e){return f(e.target.value)}}),0!==Number(l)&&!g&&!k&&(0,_.jsx)(c.Z,{variant:"outline-secondary",id:"button-addon",onClick:function(){h(function(e,t,r){return function(){var n=(0,m.Z)(v().mark((function n(a,s){var i,o,c,d,l;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:Z.OA}),i=s(),o=i.userLoginReducer.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},n.next=6,x().post("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/pre_order/add-item-to-order/order_id=".concat(e,"/item_id=").concat(t,"/"),{qty:r},c);case 6:d=n.sent,l=d.data,a({type:Z.D$,payload:l}),a(j(e)),a({type:Z.DW}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),a({type:Z.X2,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}()}(r,t.id,l))},children:"Add Order"}),0!==l&&g&&!k&&(0,_.jsx)(N.Z,{animation:"border"}),0!==l&&!g&&k&&(0,_.jsx)(s.Z,{alert:"success",children:"\u2713"})]})})]})};var g=function(e){var t=e.restaurant_id,r=(0,u.I0)(),a=(0,l.UO)(),s=(0,n.useState)([]),i=(0,p.Z)(s,2),o=(i[0],i[1],(0,u.v9)((function(e){return e.retrieveMenuReducer}))),c=(o.loading,o.error,o.menu_data);return(0,n.useEffect)((function(){r(function(e){return function(){var t=(0,m.Z)(v().mark((function t(r,n){var a,s,i,o,c;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Z.LL}),a=n(),s=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,x().get("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/pre_order/retrieve-menu-items/restaurant_id=".concat(e,"/"),i);case 6:o=t.sent,c=o.data,r({type:Z.Dd,payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Z.hY,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}),[t]),(0,_.jsxs)("div",{className:"shadow shadow-100 rounded p-4 mb-4 mt-2",children:[(0,_.jsx)("h3",{className:"mb-4",children:"Restaurant Menu"}),c&&c.map((function(e){return(0,_.jsx)(w,{menu_item:e,order_id:a.id})}))]})},k=r(62591);var z=function(e){var t=e.item,r=e.order_id,n=(0,u.I0)(),a=function(e){n(function(e,t){return function(){var r=(0,m.Z)(v().mark((function r(n,a){var s,i,o;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:Z.Dh}),s=a(),i=s.userLoginReducer.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},r.next=6,x().delete("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/pre_order/delete-order-items/item_order_key=".concat(e,"/"),o);case 6:n({type:Z.oV}),n(j(t)),window.setTimeout((function(){n({type:Z.Of})}),4e3),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:Z.D_,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,r))};return(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:t.menu_item_name}),(0,_.jsx)("td",{children:t.order_item_qty}),(0,_.jsx)("td",{children:t.menu_item_price}),(0,_.jsx)("td",{children:(0,_.jsx)(c.Z,{className:"transparent",onClick:function(){return a(t.item_order_key)},children:(0,_.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[(0,_.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),(0,_.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})})]})};var C=function(e){var t=e.pre_order_details,r=t.order_items;return(0,_.jsxs)(k.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"Item"}),(0,_.jsx)("th",{children:"Quantity"}),(0,_.jsx)("th",{children:"Unit Price"}),(0,_.jsx)("th",{children:"Action"})]})}),(0,_.jsx)("tbody",{children:r&&r.map((function(e){return(0,_.jsx)(z,{item:e,order_id:t.id})}))})]})};var I=function(){var e=(0,l.UO)(),t=(0,u.I0)(),r=(0,u.v9)((function(e){return e.retrievePreOrderReducer})),p=r.loading,m=r.error,f=r.pre_order_details,v=(0,u.v9)((function(e){return e.removePreOrderItemReducer})),h=v.success,x=v.error;return(0,n.useEffect)((function(){t(j(e.id))}),[]),(0,_.jsx)(a.Z,{className:"py-5 my-5",children:p?(0,_.jsxs)("h1",{className:"text-center",children:["Loading Order Details for Order #:"," ",e.id]}):m?(0,_.jsxs)("h1",{className:"text-center",children:["Error Loading Order Details for Order #:"," ",e.id]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h1",{className:"text-left",children:(0,_.jsxs)("strong",{children:["Pre Order #ID:"," ",e.id]})}),h&&(0,_.jsx)(s.Z,{variant:"success",children:"Item Deleted Successfully!"}),x&&(0,_.jsx)(s.Z,{variant:"danger",children:"Item Deleted Not Successfully!"}),f&&(0,_.jsx)(C,{pre_order_details:f}),(0,_.jsxs)(i.Z,{children:[(0,_.jsx)(o.Z,{md:10,children:f&&(0,_.jsx)(g,{restaurant_id:f.restaurant_id})}),(0,_.jsx)(o.Z,{md:2,className:"d-flex justify-content-end",children:(0,_.jsx)("div",{children:(0,_.jsx)(d.Link,{to:"/payment/".concat(e.id),children:(0,_.jsxs)(c.Z,{className:"btn btn-primary mt-2",children:["Make Payment"," "]})})})})]})]})})};var O=function(){return(0,_.jsx)(I,{})}},2469:function(e,t,r){var n=r(1413),a=r(45987),s=r(81694),i=r.n(s),o=r(72791),c=r(80239),d=r(39007),l=r(16445),u=r(10162),p=r(72709),m=r(80473),f=r(27472),v=r(66543),h=r(80184),x=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Z=(0,f.Z)("h4");Z.displayName="DivStyledAsH4";var j=(0,v.Z)("alert-heading",{Component:Z}),y=(0,v.Z)("alert-link",{Component:l.Z}),b={variant:"primary",show:!0,transition:p.Z,closeLabel:"Close alert"},N=o.forwardRef((function(e,t){var r=(0,c.Ch)(e,{show:"onClose"}),s=r.bsPrefix,o=r.show,l=r.closeLabel,f=r.closeVariant,v=r.className,Z=r.children,j=r.variant,y=r.onClose,b=r.dismissible,N=r.transition,_=(0,a.Z)(r,x),w=(0,u.vE)(s,"alert"),g=(0,d.Z)((function(e){y&&y(!1,e)})),k=!0===N?p.Z:N,z=(0,h.jsxs)("div",(0,n.Z)((0,n.Z)({role:"alert"},k?void 0:_),{},{ref:t,className:i()(v,w,j&&"".concat(w,"-").concat(j),b&&"".concat(w,"-dismissible")),children:[b&&(0,h.jsx)(m.Z,{onClick:g,"aria-label":l,variant:f}),Z]}));return k?(0,h.jsx)(k,(0,n.Z)((0,n.Z)({unmountOnExit:!0},_),{},{ref:void 0,in:o,children:z})):o?z:null}));N.displayName="Alert",N.defaultProps=b,t.Z=Object.assign(N,{Link:y,Heading:j})},70783:function(e,t,r){var n=r(1413),a=r(45987),s=r(81694),i=r.n(s),o=r(72791),c=r(52007),d=r.n(c),l=r(80184),u=["as","className","type","tooltip"],p={type:d().string,tooltip:d().bool,as:d().elementType},m=o.forwardRef((function(e,t){var r=e.as,s=void 0===r?"div":r,o=e.className,c=e.type,d=void 0===c?"valid":c,p=e.tooltip,m=void 0!==p&&p,f=(0,a.Z)(e,u);return(0,l.jsx)(s,(0,n.Z)((0,n.Z)({},f),{},{ref:t,className:i()(o,"".concat(d,"-").concat(m?"tooltip":"feedback"))}))}));m.displayName="Feedback",m.propTypes=p,t.Z=m},96882:function(e,t,r){var n=r(1413),a=r(45987),s=r(81694),i=r.n(s),o=r(72791),c=r(84934),d=r(10162),l=r(80184),u=["id","bsPrefix","className","type","isValid","isInvalid","as"],p=o.forwardRef((function(e,t){var r=e.id,s=e.bsPrefix,p=e.className,m=e.type,f=void 0===m?"checkbox":m,v=e.isValid,h=void 0!==v&&v,x=e.isInvalid,Z=void 0!==x&&x,j=e.as,y=void 0===j?"input":j,b=(0,a.Z)(e,u),N=(0,o.useContext)(c.Z).controlId;return s=(0,d.vE)(s,"form-check-input"),(0,l.jsx)(y,(0,n.Z)((0,n.Z)({},b),{},{ref:t,type:f,id:r||N,className:i()(p,s,h&&"is-valid",Z&&"is-invalid")}))}));p.displayName="FormCheckInput",t.Z=p},84934:function(e,t,r){var n=r(72791).createContext({});t.Z=n},74292:function(e,t,r){var n=r(1413),a=r(4942),s=r(45987),i=r(81694),o=r.n(i),c=r(72791),d=(r(42391),r(70783)),l=r(84934),u=r(10162),p=r(80184),m=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],f=c.forwardRef((function(e,t){var r,i,d=e.bsPrefix,f=e.type,v=e.size,h=e.htmlSize,x=e.id,Z=e.className,j=e.isValid,y=void 0!==j&&j,b=e.isInvalid,N=void 0!==b&&b,_=e.plaintext,w=e.readOnly,g=e.as,k=void 0===g?"input":g,z=(0,s.Z)(e,m),C=(0,c.useContext)(l.Z).controlId;(d=(0,u.vE)(d,"form-control"),_)?r=(0,a.Z)({},"".concat(d,"-plaintext"),!0):(i={},(0,a.Z)(i,d,!0),(0,a.Z)(i,"".concat(d,"-").concat(v),v),r=i);return(0,p.jsx)(k,(0,n.Z)((0,n.Z)({},z),{},{type:f,size:h,ref:t,readOnly:w,id:x||C,className:o()(Z,r,y&&"is-valid",N&&"is-invalid","color"===f&&"".concat(d,"-color"))}))}));f.displayName="FormControl",t.Z=Object.assign(f,{Feedback:d.Z})},99410:function(e,t,r){var n=r(45987),a=r(1413),s=r(81694),i=r.n(s),o=r(72791),c=r(66543),d=r(10162),l=r(96882),u=r(91991),p=r(80184),m=["bsPrefix","size","hasValidation","className","as"],f=(0,c.Z)("input-group-text",{Component:"span"}),v=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.size,c=e.hasValidation,l=e.className,f=e.as,v=void 0===f?"div":f,h=(0,n.Z)(e,m);r=(0,d.vE)(r,"input-group");var x=(0,o.useMemo)((function(){return{}}),[]);return(0,p.jsx)(u.Z.Provider,{value:x,children:(0,p.jsx)(v,(0,a.Z)((0,a.Z)({ref:t},h),{},{className:i()(l,r,s&&"".concat(r,"-").concat(s),c&&"has-validation")}))})}));v.displayName="InputGroup",t.Z=Object.assign(v,{Text:f,Radio:function(e){return(0,p.jsx)(f,{children:(0,p.jsx)(l.Z,(0,a.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,p.jsx)(f,{children:(0,p.jsx)(l.Z,(0,a.Z)({type:"checkbox"},e))})}})},24849:function(e,t,r){var n=r(1413),a=r(45987),s=r(81694),i=r.n(s),o=r(72791),c=r(10162),d=r(80184),l=["bsPrefix","variant","animation","size","as","className"],u=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.variant,o=e.animation,u=e.size,p=e.as,m=void 0===p?"div":p,f=e.className,v=(0,a.Z)(e,l);r=(0,c.vE)(r,"spinner");var h="".concat(r,"-").concat(o);return(0,d.jsx)(m,(0,n.Z)((0,n.Z)({ref:t},v),{},{className:i()(f,h,u&&"".concat(h,"-").concat(u),s&&"text-".concat(s))}))}));u.displayName="Spinner",t.Z=u},62591:function(e,t,r){var n=r(1413),a=r(45987),s=r(81694),i=r.n(s),o=r(72791),c=r(10162),d=r(80184),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=o.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,o=e.striped,u=e.bordered,p=e.borderless,m=e.hover,f=e.size,v=e.variant,h=e.responsive,x=(0,a.Z)(e,l),Z=(0,c.vE)(r,"table"),j=i()(s,Z,v&&"".concat(Z,"-").concat(v),f&&"".concat(Z,"-").concat(f),o&&"".concat(Z,"-striped"),u&&"".concat(Z,"-bordered"),p&&"".concat(Z,"-borderless"),m&&"".concat(Z,"-hover")),y=(0,d.jsx)("table",(0,n.Z)((0,n.Z)({},x),{},{className:j,ref:t}));if(h){var b="".concat(Z,"-responsive");return"string"===typeof h&&(b="".concat(b,"-").concat(h)),(0,d.jsx)("div",{className:b,children:y})}return y}));t.Z=u}}]);
//# sourceMappingURL=182.2f06966e.chunk.js.map