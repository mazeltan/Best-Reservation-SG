"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[292],{22292:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var a=t(72791),r=t(61734),i=t(89743),o=t(2677),s=t(9249),c=t(16030),l=t(70885),d=t(2469),u=t(46654),m=t(43360),p=t(16871),f=t(15861),h=t(87757),x=t.n(h),v=t(74569),Z=t.n(v),j=t(33471),b=t(28668),y=t(80184);var N=function(e){var n=e.profile,t=(0,a.useState)(n.sms_notification),r=(0,l.Z)(t,2),i=r[0],o=r[1],s=(0,a.useState)(n.email_notification),h=(0,l.Z)(s,2),v=h[0],N=h[1],C=(0,c.I0)(),w=(0,p.s0)(),g=(0,c.v9)((function(e){return e.notificationUpdateReducer})),E=g.success,k=g.error;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{className:"text-center",children:"Notification Updates"}),E&&(0,y.jsx)(d.Z,{variant:"success",className:"text-center",children:"Profile Update Successfully!"}),k&&(0,y.jsx)(d.Z,{variant:"danger",className:"text-center",children:"Profile Update Unsuccessful!"}),(0,y.jsxs)("div",{id:"notification",children:[(0,y.jsx)("h3",{children:"Notifications"}),(0,y.jsxs)(u.Z,{onSubmit:function(e){var n,t;e.preventDefault(),C((n=i,t=v,function(){var e=(0,f.Z)(x().mark((function e(a,r){var i,o,s,c,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:j.HF}),i=r(),o=i.userLoginReducer.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=6,Z().put("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/profile/update-profile/",{first_name:"",last_name:"",email:"",password:"",contact_number:"",sms_notification:n,email_notification:t},s);case 6:c=e.sent,l=c.data,a({type:j.w_,payload:l}),a({type:b.wW,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a({type:j.Ug,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n,t){return e.apply(this,arguments)}}()))},children:[(0,y.jsx)(u.Z.Group,{className:"mb-3",controlId:"smsNotificationCB",children:(0,y.jsx)(u.Z.Check,{type:"switch",label:"SMS Notification",checked:i,onChange:function(){return o(!i)}})}),(0,y.jsx)(u.Z.Group,{className:"mb-3",controlId:"emailNotificationCB",children:(0,y.jsx)(u.Z.Check,{type:"switch",label:"Email Notification",checked:v,onChange:function(){return N(!v)}})}),(0,y.jsx)("div",{className:"d-flex justify-content-end",children:(0,y.jsx)(m.Z,{type:"submit",className:"btn btn-primary",children:"Update"})})]})]}),(0,y.jsxs)("div",{id:"delete-account",children:[(0,y.jsx)("h3",{children:"Account Management"}),(0,y.jsxs)(u.Z,{onSubmit:function(e){e.preventDefault(),C(function(){var e=(0,f.Z)(x().mark((function e(n,t){var a,r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:j.hk}),a=t(),r=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,Z().delete("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/profile/delete-profile/",i);case 6:n({type:b.lK}),localStorage.removeItem("userInfo"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:j.iQ,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}()),w("/")},children:[(0,y.jsx)(u.Z.Label,{children:"Email"}),(0,y.jsx)(u.Z.Control,{type:"email",placeholder:"Enter your email"}),(0,y.jsx)(u.Z.Text,{className:"text-muted",children:"THIS ACTION IS NON-REVERSIBLE"}),(0,y.jsx)("div",{className:"d-flex justify-content-end",children:(0,y.jsx)(m.Z,{type:"submit",className:"btn btn-danger",children:"Delete"})})]})]})]})},C=t(55705),w=t(76863),g=w.Ry().shape({firstName:w.Z_().required("First Name Required"),lastName:w.Z_().required("Last Name Required"),email:w.Z_().email().required("Email Required"),password:w.Z_().required("Enter password to update profile").min(8,"Miniumum 8 Characters").max(24,"Maximum 24 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Password needs to be at least 8 characters long consisting of alphanumeric characters with symbols"),confirmPassword:w.Z_().required("Password must match").oneOf([w.iH("password"),null],"Password Must Match","Minimum 8 Characters\nMaximum 24 Characters"),contact:w.Z_().required("Contact Number Required").matches(/[0-9]{8}/,"Enter Valid Contact Number").max(8,"Enter Valid Contact Number")});var E=function(e){var n=e.profile,t=(0,c.I0)(),r=(0,c.v9)((function(e){return e.profileUpdateReducer})),s=r.success,p=r.error,h={firstName:n.first_name,lastName:n.last_name,email:n.email,password:"",confirmPassword:"",contact:n.contact_number},v=(0,a.useState)(!1),N=(0,l.Z)(v,2),w=N[0],E=N[1],k=function(){E(!w)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{className:"text-center",children:"Profile Update"}),s&&(0,y.jsx)(d.Z,{variant:"success",className:"text-center",children:"Profile Update Successfully!"}),p&&(0,y.jsx)(d.Z,{variant:"danger",className:"text-center",children:"Profile Update Unsuccessful!"}),(0,y.jsx)(C.J9,{validationSchema:g,onSubmit:function(e){var n,a,r,i,o;t((n=e.firstName,a=e.lastName,r=e.email,i=e.password,o=e.contact,function(){var e=(0,f.Z)(x().mark((function e(t,s){var c,l,d,u,m;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("".concat(n," ").concat(a," ").concat(r)),e.prev=1,t({type:j.SZ}),c=s(),l=c.userLoginReducer.userInfo,d={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=7,Z().put("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/profile/update-profile/",{first_name:n,last_name:a,email:r,password:i,contact_number:o,sms_notification:"",email_notification:""},d);case 7:u=e.sent,m=u.data,t({type:j.Nw,payload:m}),t({type:b.wW,payload:m}),t({type:j.RB}),localStorage.setItem("userInfo",JSON.stringify(m)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t({type:j.tv,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n,t){return e.apply(this,arguments)}}()))},initialValues:h,children:function(e){var n=e.handleSubmit,t=e.handleChange,a=e.values,r=e.touched,s=e.errors;return(0,y.jsxs)(u.Z,{noValidate:!0,onSubmit:n,children:[(0,y.jsxs)(i.Z,{xs:1,md:2,children:[(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik01",children:[(0,y.jsx)(u.Z.Label,{children:"First Name"}),(0,y.jsx)(u.Z.Control,{type:"text",name:"firstName",value:a.firstName,onChange:t,isInvalid:!!s.firstName,isValid:r.firstName&&!s.firstName,feedback:s.firstName,placeholder:"John"}),s.firstName&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.firstName})]})}),(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik02",children:[(0,y.jsx)(u.Z.Label,{children:"Last Name"}),(0,y.jsx)(u.Z.Control,{type:"text",name:"lastName",value:a.lastName,onChange:t,isInvalid:!!s.lastName,isValid:r.lastName&&!s.lastName,feedback:s.lastName,placeholder:"Apple"}),s.lastName&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.lastName})]})})]}),(0,y.jsxs)(i.Z,{xs:1,md:2,children:[(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik03",children:[(0,y.jsx)(u.Z.Label,{children:"Email address"}),(0,y.jsx)(u.Z.Control,{type:"email",name:"email",value:a.email,onChange:t,isInvalid:!!s.email,isValid:r.email&&!s.email,feedback:s.email,placeholder:"john.apple@helloworld.com"}),s.email&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.email}),(0,y.jsx)(u.Z.Control.Feedback,{children:"Looks good!"})]})}),(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik04",children:[(0,y.jsx)(u.Z.Label,{children:"Contact Number"}),(0,y.jsx)(u.Z.Control,{type:"tel",name:"contact",value:a.contact,onChange:t,isInvalid:!!s.contact,isValid:r.contact&&!s.contact,feedback:s.contact,placeholder:"1234 5678"}),s.contact&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.contact}),(0,y.jsx)(u.Z.Control.Feedback,{children:"Looks good!"})]})})]}),(0,y.jsxs)(i.Z,{xs:1,md:2,children:[(0,y.jsxs)(o.Z,{children:[(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik05",children:[(0,y.jsx)(u.Z.Label,{children:"Password"}),(0,y.jsx)(u.Z.Control,{type:w?"text":"password",name:"password",value:a.password,onChange:t,isInvalid:!!s.password,isValid:r.password&&!s.password,feedback:s.password,placeholder:"*********"}),s.password&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.password}),(0,y.jsx)(u.Z.Control.Feedback,{children:"Looks good!"})]}),(0,y.jsx)(u.Z.Group,{className:"mb-3",controlId:"formBasicCheckbox",onClick:k,children:(0,y.jsx)(u.Z.Check,{type:"checkbox",label:"Show Password"})})]}),(0,y.jsx)(o.Z,{children:(0,y.jsxs)(u.Z.Group,{className:"mb-3",controlId:"validationFormik06",children:[(0,y.jsx)(u.Z.Label,{children:"Confirm Password"}),(0,y.jsx)(u.Z.Control,{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:t,isInvalid:!!s.confirmPassword,isValid:r.confirmPassword&&!s.confirmPassword,feedback:s.confirmPassword,placeholder:"*********"}),s.confirmPassword&&(0,y.jsx)(u.Z.Control.Feedback,{type:"invalid",children:s.confirmPassword}),(0,y.jsx)(u.Z.Control.Feedback,{children:"Looks good!"})]})})]}),(0,y.jsx)("div",{className:"d-grid gap-2",children:(0,y.jsx)(m.Z,{type:"submit",className:"btn btn-primary my-5",children:"Update"})})]})}})]})};var k=function(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.userProfileReducer})),t=n.loading,l=n.error,d=n.userInfo;return(0,a.useEffect)((function(){d||e(function(){var e=(0,f.Z)(x().mark((function e(n,t){var a,r,i,o,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:j.gC}),a=t(),r=a.userLoginReducer.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,Z().get("http://ec2-18-141-208-218.ap-southeast-1.compute.amazonaws.com:9090/api/profile/retrieve-profile/",i);case 6:o=e.sent,s=o.data,n({type:j.RB,payload:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:j.wH,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}())}),[d]),(0,y.jsx)("div",{className:"p-5",children:t?(0,y.jsx)("h1",{className:"text-center",children:"Loading Profile..."}):l?(0,y.jsx)("h1",{className:"text-center",children:"Error Loading Profile"}):(0,y.jsx)(r.Z.Container,{defaultActiveKey:"profile",children:(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(o.Z,{sm:2,children:(0,y.jsxs)(s.Z,{variant:"pills",className:"flex-column text-center mx-auto",children:[(0,y.jsx)(s.Z.Item,{className:"mb-3 shadow shadow-100",children:(0,y.jsx)(s.Z.Link,{eventKey:"profile",children:"Profile"})}),(0,y.jsx)(s.Z.Item,{className:"mb-3 shadow shadow-100",children:(0,y.jsx)(s.Z.Link,{eventKey:"notification",children:"Notifications"})})]})}),(0,y.jsx)(o.Z,{sm:10,children:(0,y.jsxs)(r.Z.Content,{className:"shadow shadow-100 p-5",children:[(0,y.jsx)(r.Z.Pane,{eventKey:"profile",children:d&&(0,y.jsx)(E,{profile:d})}),(0,y.jsx)(r.Z.Pane,{eventKey:"notification",children:d&&(0,y.jsx)(N,{profile:d})})]})})]})})})}},25666:function(e,n,t){var a=t(72791);n.Z=function(e){var n=e.children,t=e.in,r=e.mountOnEnter,i=e.unmountOnExit,o=(0,a.useRef)(t);return(0,a.useEffect)((function(){t&&(o.current=!0)}),[t]),t?n:i||!o.current&&r?null:n}},40551:function(e,n,t){t.d(n,{W:function(){return p}});var a=t(70885),r=t(72791),i=t(90165),o=t(78633),s=t(25666),c=t(80184),l=["active","eventKey","mountOnEnter","transition","unmountOnExit","role"],d=["activeKey","getControlledId","getControllerId"],u=["as"];function m(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}function p(e){var n=e.active,t=e.eventKey,a=e.mountOnEnter,s=e.transition,c=e.unmountOnExit,u=e.role,p=void 0===u?"tabpanel":u,f=m(e,l),h=(0,r.useContext)(i.Z);if(!h)return[Object.assign({},f,{role:p}),{eventKey:t,isActive:n,mountOnEnter:a,transition:s,unmountOnExit:c}];var x=h.activeKey,v=h.getControlledId,Z=h.getControllerId,j=m(h,d),b=(0,o.h)(t);return[Object.assign({},f,{role:p,id:v(t),"aria-labelledby":Z(t)}),{eventKey:t,isActive:null==n&&null!=b?(0,o.h)(x)===b:n,transition:s||j.transition,mountOnEnter:null!=a?a:j.mountOnEnter,unmountOnExit:null!=c?c:j.unmountOnExit}]}var f=r.forwardRef((function(e,n){var t=e.as,r=void 0===t?"div":t,l=p(m(e,u)),d=(0,a.Z)(l,2),f=d[0],h=d[1],x=h.isActive,v=h.onEnter,Z=h.onEntering,j=h.onEntered,b=h.onExit,y=h.onExiting,N=h.onExited,C=h.mountOnEnter,w=h.unmountOnExit,g=h.transition,E=void 0===g?s.Z:g;return(0,c.jsx)(i.Z.Provider,{value:null,children:(0,c.jsx)(o.Z.Provider,{value:null,children:(0,c.jsx)(E,{in:x,onEnter:v,onEntering:Z,onEntered:j,onExit:b,onExiting:y,onExited:N,mountOnEnter:C,unmountOnExit:w,children:(0,c.jsx)(r,Object.assign({},f,{ref:n,hidden:!x,"aria-hidden":!x}))})})})}));f.displayName="TabPanel",n.Z=f},25561:function(e,n,t){var a=t(70885),r=t(72791),i=t(80239),o=t(22021),s=t(90165),c=t(78633),l=t(40551),d=t(80184),u=function(e){var n=e.id,t=e.generateChildId,l=e.onSelect,u=e.activeKey,m=e.defaultActiveKey,p=e.transition,f=e.mountOnEnter,h=e.unmountOnExit,x=e.children,v=(0,i.$c)(u,m,l),Z=(0,a.Z)(v,2),j=Z[0],b=Z[1],y=(0,o.gP)(n),N=(0,r.useMemo)((function(){return t||function(e,n){return y?"".concat(y,"-").concat(n,"-").concat(e):null}}),[y,t]),C=(0,r.useMemo)((function(){return{onSelect:b,activeKey:j,transition:p,mountOnEnter:f||!1,unmountOnExit:h||!1,getControlledId:function(e){return N(e,"tabpane")},getControllerId:function(e){return N(e,"tab")}}}),[b,j,p,f,h,N]);return(0,d.jsx)(s.Z.Provider,{value:C,children:(0,d.jsx)(c.Z.Provider,{value:b||null,children:x})})};u.Panel=l.Z,n.Z=u},2469:function(e,n,t){var a=t(1413),r=t(45987),i=t(81694),o=t.n(i),s=t(72791),c=t(80239),l=t(39007),d=t(16445),u=t(10162),m=t(72709),p=t(80473),f=t(27472),h=t(66543),x=t(80184),v=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Z=(0,f.Z)("h4");Z.displayName="DivStyledAsH4";var j=(0,h.Z)("alert-heading",{Component:Z}),b=(0,h.Z)("alert-link",{Component:d.Z}),y={variant:"primary",show:!0,transition:m.Z,closeLabel:"Close alert"},N=s.forwardRef((function(e,n){var t=(0,c.Ch)(e,{show:"onClose"}),i=t.bsPrefix,s=t.show,d=t.closeLabel,f=t.closeVariant,h=t.className,Z=t.children,j=t.variant,b=t.onClose,y=t.dismissible,N=t.transition,C=(0,r.Z)(t,v),w=(0,u.vE)(i,"alert"),g=(0,l.Z)((function(e){b&&b(!1,e)})),E=!0===N?m.Z:N,k=(0,x.jsxs)("div",(0,a.Z)((0,a.Z)({role:"alert"},E?void 0:C),{},{ref:n,className:o()(h,w,j&&"".concat(w,"-").concat(j),y&&"".concat(w,"-dismissible")),children:[y&&(0,x.jsx)(p.Z,{onClick:g,"aria-label":d,variant:f}),Z]}));return E?(0,x.jsx)(E,(0,a.Z)((0,a.Z)({unmountOnExit:!0},C),{},{ref:void 0,in:s,children:k})):s?k:null}));N.displayName="Alert",N.defaultProps=y,n.Z=Object.assign(N,{Link:b,Heading:j})},61734:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(52007),r=t.n(a),i=(t(72791),t(1413)),o=t(45987),s=t(25561),c=t(3507),l=t(80184),d=["transition"],u=function(e){var n=e.transition,t=(0,o.Z)(e,d);return(0,l.jsx)(s.Z,(0,i.Z)((0,i.Z)({},t),{},{transition:(0,c.Z)(n)}))};u.displayName="TabContainer";var m=u,p=t(34886),f=t(84504),h={eventKey:r().oneOfType([r().string,r().number]),title:r().node.isRequired,disabled:r().bool,tabClassName:r().string},x=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};x.propTypes=h;var v=Object.assign(x,{Container:m,Content:p.Z,Pane:f.Z})},34886:function(e,n,t){var a=t(66543);n.Z=(0,a.Z)("tab-content")},84504:function(e,n,t){var a=t(1413),r=t(70885),i=t(45987),o=t(81694),s=t.n(o),c=t(72791),l=t(25666),d=t(78633),u=t(90165),m=t(40551),p=t(10162),f=t(3507),h=t(80184),x=["bsPrefix","transition"],v=["className","as"],Z=c.forwardRef((function(e,n){var t=e.bsPrefix,o=e.transition,c=(0,i.Z)(e,x),Z=(0,m.W)((0,a.Z)((0,a.Z)({},c),{},{transition:(0,f.Z)(o)})),j=(0,r.Z)(Z,2),b=j[0],y=b.className,N=b.as,C=void 0===N?"div":N,w=(0,i.Z)(b,v),g=j[1],E=g.isActive,k=g.onEnter,P=g.onEntering,I=g.onEntered,O=g.onExit,L=g.onExiting,S=g.onExited,F=g.mountOnEnter,R=g.unmountOnExit,_=g.transition,A=void 0===_?l.Z:_,K=(0,p.vE)(t,"tab-pane");return(0,h.jsx)(u.Z.Provider,{value:null,children:(0,h.jsx)(d.Z.Provider,{value:null,children:(0,h.jsx)(A,{in:E,onEnter:k,onEntering:P,onEntered:I,onExit:O,onExiting:L,onExited:S,mountOnEnter:F,unmountOnExit:R,children:(0,h.jsx)(C,(0,a.Z)((0,a.Z)({},w),{},{ref:n,className:s()(y,K,E&&"active")}))})})})}));Z.displayName="TabPane",n.Z=Z},3507:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(72709);function r(e){return"boolean"===typeof e?e?a.Z:void 0:e}}}]);
//# sourceMappingURL=292.848abf49.chunk.js.map